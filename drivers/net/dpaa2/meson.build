# SPDX-License-Identifier: BSD-3-Clause
# Copyright 2018-2019 NXP

version = 2

if host_machine.system() != 'linux'
        build = false
endif

deps += ['mempool_dpaa2']
sources = files('base/dpaa2_hw_dpni.c',
		'dpaa2_mux.c',
		'dpaa2_ethdev.c',
		'dpaa2_sparser.c',
		'dpaa2_flow.c',
		'dpaa2_rxtx.c',
		'mc/dpkg.c',
		'mc/dpdmux.c',
		'mc/dpni.c')

if dpdk_conf.has('RTE_LIBRTE_IEEE1588')
	sources += files(mc/dprtc.c)
endif

includes += include_directories('base', 'mc')

# depends on fslmc bus which uses experimental API
allow_experimental_apis = true

install_headers('rte_pmd_dpaa2.h')
